# NodeJS 설치

`nvm` 다운로드 후 설치.  
nodeJS 설치하면 `npm`, `yarn` 사용 가능함

```shell
# nvm 1.1.8 이상을 사용해야 Corepack을 지원함
# nvm 다운로드 후 설치할것

# nodeJS 최신 버전 설치
nvm install lastest
nvm use 18.3.0

node -v # nodeJS 18.3.0
npm -v # mpm 8.11.0
```

# 프로젝트 구성 순서

최소 라이브러리 설치 후 확장하여 Boilerplate 완성

1. Vite + React + TypeScript
2. Express
3. Mobx, Axios
4. Storybook, LESS
5. Jest, Testing Library, Cypress

모노레포 구성 (프로젝트 추가)

1. Electron  
  `create-electron-vite` - Scaffolding Your Electron + Vite Project.
2. React Native

--------------------------------------

## 1. Vite + React + TypeScript

### 프로젝트 생성

```shell
npm create vite
# react > react-ts 선택하여 프로젝트 생성
# 다음 명령과 같음
# npm create vite <프로젝트 이름>
# create-vite@2.9.10

cd <프로젝트 이름>
npm install # 의존성 모듈 업데이트

npm run dev
# 디버깅 서버 구동됨
# vite v2.9.10 dev server running at:
# > Local: http://localhost:3000/
# > Network: use `--host` to expose
```
참고  
`create-vite` - Scaffolding Your First Vite Project.

#### package.json

```json
{
    "scripts": {
        "dev": "vite",
        "build": "tsc && vite build",
        "preview": "vite preview"
    },
    "dependencies": {
        "react": "^18.0.0",
        "react-dom": "^18.0.0"
    },
    "devDependencies": {
        "@types/react": "^18.0.0",
        "@types/react-dom": "^18.0.0",
        "@vitejs/plugin-react": "^1.3.0",
        "typescript": "^4.6.3",
        "vite": "^2.9.9"
    }
}
```

`Vite` + `Typescript` + `React` 설치된 프로젝트가 생성됨

#### vite.config.ts

```ts
import {defineConfig} from 'vite'
import react from '@vitejs/plugin-react'

// https://vitejs.dev/config/
export default defineConfig({
    plugins: [react()]
})
```

#### ts.config.json

```json
{
    "compilerOptions": {
        "composite": true,
        "module": "esnext",
        "moduleResolution": "node"
    },
    "include": [
        "vite.config.ts"
    ]
}
```

#### type 설치

```shell
npm i -D @types/node
```

### 프로젝트 실행해 보기

`preview` 명령으로 실행되는 서버의 root 경로는 `dist` 폴더임

```shell
npm run build

# vite preview --port 4173
npm run preview
# 이후 localhost:4173/ 에서 빌드 결과 확인
```

빌드할 때 `base` 옵션을 지정한 경우

```
// 예: vite.config.ts
{
  ...
  // assets 폴더의 참조 경로에 추가됨 (/assets --> /web/assets)
  base: '/web/',
  
  // outDir 폴더에 빌드 결과물 생성
  build: {
    outDir: 'dist/web/'
  }
}
```

이후 build 및 preview 명령을 실행하면

```shell
# 빌드 경과물 위치 : dist/web/...
# localhost:4173/web/ 에서 결과 확인
```

--------------------------------------

## 2. Express













버전 관리가 없는 새로운 프로젝트를 다운로드 (clone)
npx degit <git 저장소> <프로젝트 이름>
npx degit 0x219/template-vite-react <프로젝트 이름>





## Monorepo 구조 테스트

다음 구조로 바꿔본다.
`web` 프로젝트에서 `shared`(러이브러리) 폴더의 리소스를 사용 가능한지 확인
러이브러리 내용이 바뀔 경우 `web` 프로젝트에 바로 적용되는지 확인
`web`과 라이브러리 각각 독자적으로 빌드 (배포) 가능한지 확인


```
├── node_modules
|         
├── src
|     ├── shared (라이브러리)
|     |     
|     └── web (client)

```


https://github.com/vitejs/vite/issues/1491
[vite-monorepo](https://github.com/adiun/vite-monorepo)
npx degit adiun/vite-monorepo vite-monorepo


[vue-lib-monorepo-template](https://github.com/LinusBorg/vue-lib-monorepo-template)


"@linusborg/eslint-config": "^0.1.1",
--->
"paths": {
"@linusborg/lib": ["packages/lib/src/main.ts"]
}

rm -rf node_modules package-lock.json







--------------------------------------










